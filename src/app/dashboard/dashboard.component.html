<app-menu></app-menu>

<main class="dash-pg">
  <h2 class="pg-ttl">Dashboard Ford</h2>

  <div class="cnt-wrap">
    <div class="sec-l">
      <div class="crd">
        <div class="crd-hd">Veículo</div>
        <div class="crd-bd">
          <form [formGroup]="selectCarForm">
            <select class="slc" formControlName="carId">
              <option value="" disabled selected>Selecione...</option>
              @for (vehicle of vehicles; track vehicle.id) {
                <option [value]="vehicle.id">{{ vehicle.vehicle }}</option>
              }
            </select>
          </form>
        </div>
      </div>

      @if (selectedVehicle) {
        <img 
          [src]="selectedVehicle.img" 
          [alt]="selectedVehicle.vehicle" 
          class="veh-img"
        />
      }
    </div>

    @if (selectedVehicle) {
      <div class="sec-r">
        <div class="crd anim">
          <div class="crd-hd">Total de Vendas</div>
          <div class="crd-bd">
            <h5 class="crd-ttl">{{ selectedVehicle.volumetotal | number }}</h5>
            <p class="crd-txt">Unid.</p>
          </div>
        </div>

        <div class="crd anim">
          <div class="crd-hd">Veículos Conectados</div>
          <div class="crd-bd">
            <h5 class="crd-ttl">{{ selectedVehicle.connected | number }}</h5>
            <p class="crd-txt">Unid.</p>
          </div>
        </div>

        <div class="crd anim">
          <div class="crd-hd">Software Atualizado</div>
          <div class="crd-bd">
            <h5 class="crd-ttl">{{ selectedVehicle.softwareUpdates | number }}</h5>
            <p class="crd-txt">Unid.</p>
          </div>
        </div>
      </div>
    }
  </div>
</main>

<footer class="vin-ft">
  <table>
    <thead>
      <tr>
        <th>Código - VIN</th>
        <th>Odômetro</th>
        <th>Nível de Combustível</th>
        <th>Status</th>
        <th>Lat</th>
        <th>Long</th>
      </tr>
    </thead>

    <tbody>
      <tr>
        <td class="vin-cell">
          <form [formGroup]="vinForm">
            <input 
              type="text"
              class="inpt"
              placeholder="Digite o código VIN..."
              formControlName="vin"
            />
          </form>
        </td>

        <td>{{ (carVin?.odometro | number) || '-' }} km</td>
        <td>{{ carVin?.nivelCombustivel || '-' }} %</td>
        <td>{{ carVin?.status || '-' }}</td>
        <td>{{ carVin?.lat || '-' }}</td>
        <td>{{ carVin?.long || '-' }}</td>
      </tr>
    </tbody>
  </table>
</footer>